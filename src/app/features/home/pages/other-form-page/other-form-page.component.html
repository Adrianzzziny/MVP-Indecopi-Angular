<div class="wizard">
  <div class="wizard-container">

    <!-- Step indicator solo en pasos 0–3 -->
    @if (service.currentStep() < 4) {
      <div class="wizard-header">
        <app-step-indicator></app-step-indicator>
      </div>
    }

    <!-- Renderizado de pasos con key para forzar recreación -->
    <div [attr.data-step]="service.currentStep()">
      @switch (service.currentStep()) {
        @case (0) { <app-personal-info-step /> }
        @case (1) { <app-recipient-step /> }
        @case (2) { <app-upload-files-step /> }
        @case (3) { <app-summary-step /> }
        @case (4) { <app-mpv-feedback /> }
      }
    </div>

    <!-- Form actions solo en pasos 0–3 -->
    @if (service.currentStep() < 4) {
      <div class="wizard-footer">
        <app-form-actions
          [useValidationBus]="true"
          (back)="goBack()"
          (next)="goNext()"
        ></app-form-actions>
      </div>
    }

  </div>
</div>
